# üèÜ Records API - –ú–æ–¥—É–ª—å 3. –û—Å–Ω–æ–≤—ã backend

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–≤—ã–º–∏ —Ä–µ–∫–æ—Ä–¥–∞–º–∏ —Å MongoDB

## üì¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 16+
- MongoDB (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ Docker)
- npm –∏–ª–∏ yarn

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ó–∞–ø—É—Å–∫ MongoDB

#### –í–∞—Ä–∏–∞–Ω—Ç —á–µ—Ä–µ–∑ WSL + Docker Desktop:

–ü—Ä–∏–º–µ—Ä –¥–ª—è windows:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Desktop —Å –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π WSL2
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É, –≥–¥–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –¥–∞–Ω–Ω—ã–µ mongo –∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤ –Ω–µ–π docker-compose.yml —Å–æ –ø—Ä–∏–º–µ—Ä–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```
version: "3.9"
services:
  module3.mongo:
    image: mongo
    restart: always
    container_name: module3.mongo
    environment:
      MONGO_INITDB_ROOT_USERNAME: module3
      MONGO_INITDB_ROOT_PASSWORD: module3
    ports:
      - 27017:27017

    volumes:
      - ./mongo-data:/data/db
    command: --wiredTigerCacheSizeGB 1.5

```

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –æ–ø—Ä–æ–±–æ–≤–∞–Ω–æ –Ω–∞ –≤–µ—Ä—Å–∏—è—Ö 3.9 –∏ 6. --wiredTigerCacheSizeGB 1.5 –ó–∞–Ω–∏–º–∞–µ–º—ã–π –∫—ç—à –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ 1.5 GB. –ù–∞–∑–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞/–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å —Ç–∞–∫ –∂–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ.

3. –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ WSL –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```
docker-compose up -d
```


### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .development.env –Ω–∞ –æ—Å–Ω–æ–≤–µ .example.env:

```
cp .example.env .development.env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

```
npm install
npm run start:dev
```

## üì° API Endpoints

–ë–∞–∑–æ–≤—ã–π URL: http://localhost:3000/api/v1/record

### üü¢ GET /

–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–µ–∫–æ—Ä–¥—ã

–û—Ç–≤–µ—Ç:

```
[
  {
    "username": "string",
    "time": "number | null",
    "_id": "string",
    "createdAt": "string",
    "updatedAt": "string"
  }
]
```

### üü† POST /

–°–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å (–í—ã–∑—ã–≤–∞—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ/—Ä–µ—Å—Ç–∞—Ä—Ç–µ –∏–≥—Ä—ã)

```
{
  "_id?": "string" // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}
```

–ü–æ–≤–µ–¥–µ–Ω–∏–µ:
–ë–µ–∑ \_id ‚Üí —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å
–° \_id ‚Üí –∏—â–µ—Ç –∑–∞–ø–∏—Å—å –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç updatedAt
–ï—Å–ª–∏ –∑–∞–ø–∏—Å—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Üí 400 Bad Request

–û—Ç–≤–µ—Ç:

```
{
  "username": "string",
  "time": "number | null",
  "_id": "string",
  "createdAt": "string",
  "updatedAt": "string"
}
```

### üîµ PATCH /:id

–û–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–∫–æ—Ä–¥ –µ—Å–ª–∏ –æ–Ω –ø–æ–±–∏—Ç. (–í—ã–∑—ã–≤–∞—Ç—å, –µ—Å–ª–∏ –∏–≥—Ä–∞ –≤—ã–π–≥—Ä–∞–Ω–∞)

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:

- id - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏

–ü–æ–≤–µ–¥–µ–Ω–∏–µ:

- –ï—Å–ª–∏ id –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí 400 Bad Request
- –ï—Å–ª–∏ –Ω–æ–≤–æ–µ –≤—Ä–µ–º—è –ª—É—á—à–µ (–º–µ–Ω—å—à–µ) ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å
- –ï—Å–ª–∏ —Ä–µ–∫–æ—Ä–¥ –Ω–µ –ø–æ–±–∏—Ç ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç–∞—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–û—Ç–≤–µ—Ç:

```
{
  "username": "string",
  "time": "number",
  "_id": "string",
  "createdAt": "string",
  "updatedAt": "string",
  "isRecord": "boolean"
}
```

–ì–¥–µ:

time - —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
isRecord - true –µ—Å–ª–∏ —Ä–µ–∫–æ—Ä–¥ –ø–æ–±–∏—Ç

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- NestJS
- MongoDB
- Docker (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
